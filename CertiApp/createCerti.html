<!DOCTYPE html>
<html>
	<head>
		<title>Issue Certificate</title>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		
		
		<nav style="float:right" >
			<a href="index.html"><input type=button value=Home> </a> 
  			<a href="certificate.html"><input type=button value="Issue Certifiacte" style="background-color:#4d9bf9"></a> 
		</nav>
		<br>
		<h2>Certificate DApp</h2>
		
			   <br> 
			   <h3>Issue Certificate</h3> 
			   <font size=3> 
			<form id="certiForm">
				<label for="course">Select Course*</label><br>
				<select id="course" style="width:25%">
					<option value="certified blockchain associate">Certified Blockchain Associate </option>
					<option value="developer essentials for blockchain">Developer Essentials for Blockchain</option>
					<option value="blockchain foundation program">Blockchain Foundation Program</option>
				</select><br>
				<label for="cid">Certificate ID*</label><br>
				<input type=text name=id id="cid" placeholder="Certificate ID" style="width:25%"><br>
				<label for="name">Candidate Name*</label><br>
				<input type=text name=id id="name" placeholder="Name" style="width:25%;height:5%"><br>
				<label for="grade">Grade*</label><br>
				<select name=grade id="grade" style="width:25%">
					<option value=s>S</option>
					<option value=a>A</option>
					<option value=b>B</option>
					<option value=c>C</option>
				</select><br>
				<label for="date">Issue Date*</label><br>
				<input type=date id="date" name=date style="width:25%"><br>
                <button type="submit" onclick="createCerti()">Submit</button>
				
			</form>
			</font>
            <script>
                //localStorage.clear()
                document.getElementById("certiForm").addEventListener("submit",()=>{
                    event.preventDefault()
                })
                function createCerti(){
                    let cid=document.getElementById("cid").value
                    if(localStorage.getItem(cid)!==null){
                        alert("Certificate ID already exists")
                    }
                    else{
                        let name=document.getElementById("name").value
                        let grade=document.getElementById("grade").value
                        let date=document.getElementById("date").value
                        let course=document.getElementById("course").value
                        let certiData=JSON.stringify({name,grade,date,course})
                        localStorage.setItem(cid,certiData)
                        window.location.href=`viewCerti.html?cid=${cid}`;

                    }
                }
                
            </script>
		
	</body>
	
</html>